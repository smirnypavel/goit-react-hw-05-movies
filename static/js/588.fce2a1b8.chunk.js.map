{"version":3,"file":"static/js/588.fce2a1b8.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/SearchForm/SearhForm.module.css?5eb5","components/SearchForm/SearchForm.jsx","components/pages/Movie/Movie.jsx","webpack://react-homework-template/./src/components/pages/Movies/Home.module.css?04b3","components/pages/Movies/MovieList.jsx","servises/fetchApi.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"SearhForm_Searchbar__qJ0gF\",\"SearchForm\":\"SearhForm_SearchForm__VAUfV\",\"SearchForm_button\":\"SearhForm_SearchForm_button__0pCav\",\"SearchForm-button\":\"SearhForm_SearchForm-button__n5Crn\",\"SearchForm-button-label\":\"SearhForm_SearchForm-button-label__1e7zp\",\"SearchForm_input\":\"SearhForm_SearchForm_input__lMpCL\",\"SearchForm-input\":\"SearhForm_SearchForm-input__uHdMv\",\"icon\":\"SearhForm_icon__i6rBF\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from './SearhForm.module.css';\nimport { toast } from 'react-toastify';\nimport { FcSearch } from 'react-icons/fc';\n\nconst SearchForm = ({ onSubmit }) => {\n  const [request, setRequest] = useState('');\n\n  const handleRequestChange = event => {\n    setRequest(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (request.trim() === '') {\n      return toast.error('Введите запрос!');\n    }\n    onSubmit(request);\n    setRequest('');\n  };\n\n  return (\n    <header className={styled.Searchbar}>\n      <form className={styled.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={styled.SearchForm_button}>\n          <FcSearch className={styled.icon} />\n        </button>\n        <input\n          className={styled.SearchForm_input}\n          type=\"text\"\n          placeholder=\"Search...\"\n          name=\"request\"\n          value={request}\n          onChange={handleRequestChange}\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React, { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchSearch } from 'servises/fetchApi';\nimport Movies from '../Movies';\nimport SearchForm from 'components/SearchForm';\n\nexport const Movie = () => {\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const name = searchParams.get('name') ?? '';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (name === '') {\n        return;\n      }\n      try {\n        const resp = await fetchSearch(name);\n        setMovies(resp.results);\n      } catch (error) {\n        toast.error('Введите запрос!');\n      }\n    };\n    fetchData();\n  }, [query, name]);\n\n  const handleFormSubmit = async query => {\n    setQuery(query);\n    setMovies([]);\n    const nextParams = query !== '' ? { name: query } : {};\n    setSearchParams(nextParams);\n  };\n\n  return (\n    <main>\n      <SearchForm onSubmit={handleFormSubmit} query={query} />\n      <Movies movies={movies} />\n    </main>\n  );\n};\n\nexport default Movie;\n","// extracted by mini-css-extract-plugin\nexport default {\"ImageGallery\":\"Home_ImageGallery__NsMrt\",\"ImageGalleryItem_image\":\"Home_ImageGalleryItem_image__EcFEi\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styled from './Home.module.css';\nimport errorImg from '../../../images/errorImg.jpg';\n\nconst MovieList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <div className={styled.ImageGallery}>\n      {movies.map(item => (\n        <Link\n          key={item.id}\n          to={`/movies/${item.id}`}\n          className={styled.ImageGalleryItem}\n          state={{ from: location }}\n        >\n          <img\n            src={\n              item.poster_path\n                ? `https://image.tmdb.org/t/p/w500${item.poster_path}`\n                : errorImg\n            }\n            alt={item.title}\n            className={styled.ImageGalleryItem_image}\n          />\n        </Link>\n      ))}\n    </div>\n  );\n};\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      poster_path: PropTypes.string,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\n\nexport default MovieList;\n","const ApiKey = '4a55179e5aea4bfa269dc61c94f9ab53';\n\nexport const fetchTrends = async () => {\n  const url = `https://api.themoviedb.org/3/trending/movie/day?api_key=${ApiKey}`;\n  const resp = await fetch(url);\n  return await resp.json();\n};\n\nexport const fetchSearch = async query => {\n  const url = `https://api.themoviedb.org/3/search/movie?api_key=${ApiKey}&language=en-US&query=${query}&page=1&include_adult=false`;\n  const resp = await fetch(url);\n  return await resp.json();\n};\n\nexport const fetchDetails = async id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}?api_key=${ApiKey}&language=en-US`;\n  const resp = await fetch(url);\n  return await resp.json();\n};\n\nexport const fetchCredit = async id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${ApiKey}&language=en-US`;\n  const resp = await fetch(url);\n  return await resp.json();\n};\nexport const fetchReviews = async id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${ApiKey}&language=en-US&page=1`;\n  const resp = await fetch(url);\n  return await resp.json();\n};\n"],"names":["onSubmit","useState","request","setRequest","className","styled","event","preventDefault","trim","toast","type","placeholder","name","value","onChange","currentTarget","toLowerCase","movies","setMovies","query","setQuery","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchData","fetchSearch","resp","results","handleFormSubmit","Movies","location","useLocation","map","item","to","id","state","from","src","poster_path","errorImg","alt","title","ApiKey","fetchTrends","url","fetch","json","fetchDetails","fetchCredit","fetchReviews"],"sourceRoot":""}