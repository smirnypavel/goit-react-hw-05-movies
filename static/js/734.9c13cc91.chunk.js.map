{"version":3,"file":"static/js/734.9c13cc91.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/SearchForm/SearhForm.module.css?5eb5","components/SearchForm/SearchForm.jsx","Pages/Movie/Movie.jsx","webpack://react-homework-template/./src/Pages/Movies/Home.module.css?99bb","Pages/Movies/MovieList.jsx","servises/fetchApi.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"SearhForm_Searchbar__qJ0gF\",\"SearchForm\":\"SearhForm_SearchForm__VAUfV\",\"SearchForm_button\":\"SearhForm_SearchForm_button__0pCav\",\"SearchForm-button\":\"SearhForm_SearchForm-button__n5Crn\",\"SearchForm-button-label\":\"SearhForm_SearchForm-button-label__1e7zp\",\"SearchForm_input\":\"SearhForm_SearchForm_input__lMpCL\",\"SearchForm-input\":\"SearhForm_SearchForm-input__uHdMv\",\"icon\":\"SearhForm_icon__i6rBF\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from './SearhForm.module.css';\nimport { toast } from 'react-toastify';\nimport { FcSearch } from 'react-icons/fc';\n\nconst SearchForm = ({ onSubmit }) => {\n  const [request, setRequest] = useState('');\n\n  const handleRequestChange = event => {\n    setRequest(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (request.trim() === '') {\n      return toast.error('Введите запрос!');\n    }\n    onSubmit(request);\n    setRequest('');\n  };\n\n  return (\n    <header className={styled.Searchbar}>\n      <form className={styled.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={styled.SearchForm_button}>\n          <FcSearch className={styled.icon} />\n        </button>\n        <input\n          className={styled.SearchForm_input}\n          type=\"text\"\n          placeholder=\"Search...\"\n          name=\"request\"\n          value={request}\n          onChange={handleRequestChange}\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React, { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchSearch } from 'servises/fetchApi';\nimport Movies from '../Movies';\nimport SearchForm from 'components/SearchForm';\nimport Loader from 'components/Loader/Loader';\n\nexport const Movie = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const name = searchParams.get('name') ?? '';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (name === '') {\n        return;\n      }\n      setIsLoading(true);\n      try {\n        const resp = await fetchSearch(name);\n        setMovies(resp.results);\n      } catch (error) {\n        setError(error);\n        toast.error('Введите запрос!');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, [name]);\n\n  const handleFormSubmit = query => {\n    const nextParams = query !== '' ? { name: query } : {};\n    setSearchParams(nextParams);\n  };\n\n  return (\n    <main>\n      {isLoading && <Loader />}\n      <SearchForm onSubmit={handleFormSubmit} />\n      {movies && <Movies movies={movies} />}\n      {error && <p>Went wrong</p>}\n    </main>\n  );\n};\n\nexport default Movie;\n","// extracted by mini-css-extract-plugin\nexport default {\"ImageGallery\":\"Home_ImageGallery__MOZmU\",\"ImageGalleryItem_image\":\"Home_ImageGalleryItem_image__naOVj\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styled from './Home.module.css';\nimport errorImg from '../../images/errorImg.jpg';\n\nconst MovieList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <div className={styled.ImageGallery}>\n      {movies.map(item => (\n        <Link\n          key={item.id}\n          to={`/movies/${item.id}`}\n          className={styled.ImageGalleryItem}\n          state={{ from: location }}\n        >\n          <img\n            src={\n              item.poster_path\n                ? `https://image.tmdb.org/t/p/w500${item.poster_path}`\n                : errorImg\n            }\n            alt={item.title}\n            className={styled.ImageGalleryItem_image}\n          />\n        </Link>\n      ))}\n    </div>\n  );\n};\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      poster_path: PropTypes.string,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\n\nexport default MovieList;\n","const ApiKey = '4a55179e5aea4bfa269dc61c94f9ab53';\n\nexport const fetchTrends = async () => {\n  const url = `https://api.themoviedb.org/3/trending/movie/day?api_key=${ApiKey}`;\n  const resp = await fetch(url);\n  return await resp.json();\n};\n\nexport const fetchSearch = async query => {\n  const url = `https://api.themoviedb.org/3/search/movie?api_key=${ApiKey}&language=en-US&query=${query}&page=1&include_adult=false`;\n  const resp = await fetch(url);\n  return await resp.json();\n};\n\nexport const fetchDetails = async id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}?api_key=${ApiKey}&language=en-US`;\n  const resp = await fetch(url);\n  return await resp.json();\n};\n\nexport const fetchCredit = async id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${ApiKey}&language=en-US`;\n  const resp = await fetch(url);\n  return await resp.json();\n};\nexport const fetchReviews = async id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${ApiKey}&language=en-US&page=1`;\n  const resp = await fetch(url);\n  return await resp.json();\n};\n"],"names":["onSubmit","useState","request","setRequest","className","styled","event","preventDefault","trim","toast","type","placeholder","name","value","onChange","currentTarget","toLowerCase","movies","setMovies","useSearchParams","searchParams","setSearchParams","error","setError","isLoading","setIsLoading","get","useEffect","fetchData","fetchSearch","resp","results","Loader","query","Movies","location","useLocation","map","item","to","id","state","from","src","poster_path","errorImg","alt","title","ApiKey","fetchTrends","url","fetch","json","fetchDetails","fetchCredit","fetchReviews"],"sourceRoot":""}